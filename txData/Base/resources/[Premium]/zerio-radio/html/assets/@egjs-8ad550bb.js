var K=function(){function n(){this.keys=[],this.values=[]}var i=n.prototype;return i.get=function(r){return this.values[this.keys.indexOf(r)]},i.set=function(r,e){var t=this.keys,a=this.values,u=t.indexOf(r),o=u===-1?t.length:u;t[o]=r,a[o]=e},n}(),D=function(){function n(){this.object={}}var i=n.prototype;return i.get=function(r){return this.object[r]},i.set=function(r,e){this.object[r]=e},n}(),H=typeof Map=="function",W=function(){function n(){}var i=n.prototype;return i.connect=function(r,e){this.prev=r,this.next=e,r&&(r.next=this),e&&(e.prev=this)},i.disconnect=function(){var r=this.prev,e=this.next;r&&(r.next=e),e&&(e.prev=r)},i.getIndex=function(){for(var r=this,e=-1;r;)r=r.prev,++e;return e},n}();function F(n,i){var r=[],e=[];return n.forEach(function(t){var a=t[0],u=t[1],o=new W;r[a]=o,e[u]=o}),r.forEach(function(t,a){t.connect(r[a-1])}),n.filter(function(t,a){return!i[a]}).map(function(t,a){var u=t[0],o=t[1];if(u===o)return[0,0];var s=r[u],f=e[o-1],d=s.getIndex();s.disconnect(),f?s.connect(f,f.next):s.connect(void 0,r[0]);var c=s.getIndex();return[d,c]})}var U=function(){function n(r,e,t,a,u,o,s,f){this.prevList=r,this.list=e,this.added=t,this.removed=a,this.changed=u,this.maintained=o,this.changedBeforeAdded=s,this.fixed=f}var i=n.prototype;return Object.defineProperty(i,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(i,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),i.caculateOrdered=function(){var r=F(this.changedBeforeAdded,this.fixed),e=this.changed,t=[];this.cacheOrdered=r.filter(function(a,u){var o=a[0],s=a[1],f=e[u],d=f[0],c=f[1];if(o!==s)return t.push([d,c]),!0}),this.cachePureChanged=t},n}();function O(n,i,r){var e=H?Map:r?D:K,t=r||function(h){return h},a=[],u=[],o=[],s=n.map(t),f=i.map(t),d=new e,c=new e,l=[],p=[],w={},C=[],A=0,_=0;return s.forEach(function(h,v){d.set(h,v)}),f.forEach(function(h,v){c.set(h,v)}),s.forEach(function(h,v){var m=c.get(h);typeof m>"u"?(++_,u.push(v)):w[m]=_}),f.forEach(function(h,v){var m=d.get(h);typeof m>"u"?(a.push(v),++A):(o.push([m,v]),_=w[v]||0,l.push([m-_,v-A]),p.push(v===m),m!==v&&C.push([m,v]))}),u.reverse(),new U(n,i,a,u,C,o,l,p)}var z=function(){function n(r,e){r===void 0&&(r=[]),this.findKeyCallback=e,this.list=[].slice.call(r)}var i=n.prototype;return i.update=function(r){var e=[].slice.call(r),t=O(this.list,e,this.findKeyCallback);return this.list=e,t},n}();function V(n,i){for(var r=n.length,e=0;e<r;++e)if(i(n[e],e))return!0;return!1}function j(n,i){for(var r=n.length,e=0;e<r;++e)if(i(n[e],e))return n[e];return null}function M(n){var i=n;if(typeof i>"u"){if(typeof navigator>"u"||!navigator)return"";i=navigator.userAgent||""}return i.toLowerCase()}function P(n,i){try{return new RegExp(n,"g").exec(i)}catch{return null}}function Y(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var n=navigator.userAgentData,i=n.brands||n.uaList;return!!(i&&i.length)}function $(n,i){var r=P("("+n+")((?:\\/|\\s|:)([0-9|\\.|_]+))",i);return r?r[3]:""}function y(n){return n.replace(/_/g,".")}function b(n,i){var r=null,e="-1";return V(n,function(t){var a=P("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",i);return!a||t.brand?!1:(r=t,e=a[3]||"-1",t.versionAlias?e=t.versionAlias:t.versionTest&&(e=$(t.versionTest.toLowerCase(),i)||e),e=y(e),!0)}),{preset:r,version:e}}function g(n,i){var r={brand:"",version:"-1"};return V(n,function(e){var t=T(i,e);return t?(r.brand=e.id,r.version=e.versionAlias||t.version,r.version!=="-1"):!1}),r}function T(n,i){return j(n,function(r){var e=r.brand;return P(""+i.test,e.toLowerCase())})}var k=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],L=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],x=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],R=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],S=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function I(n){return!!b(R,n).preset}function q(n){var i=M(n),r=!!/mobi/g.exec(i),e={name:"unknown",version:"-1",majorVersion:-1,webview:I(i),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},t={name:"unknown",version:"-1",majorVersion:-1},a=b(k,i),u=a.preset,o=a.version,s=b(S,i),f=s.preset,d=s.version,c=b(L,i);if(e.chromium=!!c.preset,e.chromiumVersion=c.version,!e.chromium){var l=b(x,i);e.webkit=!!l.preset,e.webkitVersion=l.version}return f&&(t.name=f.id,t.version=d,t.majorVersion=parseInt(d,10)),u&&(e.name=u.id,e.version=o,e.webview&&t.name==="ios"&&e.name!=="safari"&&(e.webview=!1)),e.majorVersion=parseInt(e.version,10),{browser:e,os:t,isMobile:r,isHints:!1}}function G(n){var i=navigator.userAgentData,r=(i.uaList||i.brands).slice(),e=n&&n.fullVersionList,t=i.mobile||!1,a=r[0],u=(n&&n.platform||i.platform||navigator.platform).toLowerCase(),o={name:a.brand,version:a.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!g(R,r).brand||I(M())},s={name:"unknown",version:"-1",majorVersion:-1};o.webkit=!o.chromium&&V(x,function(w){return T(r,w)});var f=g(L,r);if(o.chromium=!!f.brand,o.chromiumVersion=f.version,!o.chromium){var d=g(x,r);o.webkit=!!d.brand,o.webkitVersion=d.version}var c=j(S,function(w){return new RegExp(""+w.test,"g").exec(u)});if(s.name=c?c.id:"",n&&(s.version=n.platformVersion),e&&e.length){var l=g(k,e);o.name=l.brand||o.name,o.version=l.version||o.version}else{var p=g(k,r);o.name=p.brand||o.name,o.version=p.brand&&n?n.uaFullVersion:p.version}return o.webkit&&(s.name=t?"ios":"mac"),s.name==="ios"&&o.webview&&(o.version="-1"),s.version=y(s.version),o.version=y(o.version),s.majorVersion=parseInt(s.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:s,isMobile:t,isHints:!0}}function N(n){return typeof n>"u"&&Y()?G():q(n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var E=function(n,i){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])},E(n,i)};function J(n,i){E(n,i);function r(){this.constructor=n}n.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var B=typeof Map=="function"?void 0:function(){var n=0;return function(i){return i.__DIFF_KEY__||(i.__DIFF_KEY__=++n)}}(),Q=function(n){J(i,n);function i(r){return r===void 0&&(r=[]),n.call(this,r,B)||this}return i}(z);function X(n,i){return O(n,i,B)}export{Q as C,N as a,O as b,X as d};
