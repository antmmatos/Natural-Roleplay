import{d as $,o as c,c as v,S as o,q as l,U as d,N as h,V as g,W as L,G as F,v as R,F as V,u as N,X as M,Y,Z as G,_ as K,$ as X,e as b,a0 as Z,f as H,B as re,H as ue,a1 as de}from"./@vue-ba2db0dd.js";import{s as Q}from"./vue3-moveable-ac0f08c9.js";import{S as A}from"./sweetalert2-f5e3aac5.js";import{V as k,R as D,a as q,b as W,c as ce,d as me,e as fe,f as ve,g as ge,h as be,i as ye}from"./vuetify-228af294.js";import"./moveable-a88031a3.js";import"./framework-utils-6dbb37c6.js";import"./react-simple-compat-7a65e6b5.js";import"./@egjs-8ad550bb.js";import"./@daybrush-ae1f0580.js";import"./react-compat-moveable-2fc7f24a.js";import"./@scena-e1e05698.js";import"./css-to-mat-2227cd45.js";import"./overlap-area-02b6251d.js";import"./gesto-e071d06a.js";import"./react-compat-css-styled-deb89af7.js";import"./css-styled-798509d7.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=i(a);fetch(a.href,n)}})();const ee=(e,r)=>e.replace(/{(\d+)}/g,function(i,s){return typeof r[s]<"u"?r[s]:i}),S=async(e,r)=>await(await fetch(`https://zerio-radio/${e}`,{body:JSON.stringify(r||{}),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),he=[{text:"150%",value:1.5},{text:"140%",value:1.4},{text:"130%",value:1.3},{text:"120%",value:1.2},{text:"110%",value:1.1},{text:"100%",value:1},{text:"90%",value:.9},{text:"80%",value:.8},{text:"70%",value:.7},{text:"60%",value:.6},{text:"50%",value:.5}],pe={key:0,class:"top-container"},we={class:"top-time unselectable"},xe={class:"top-volume unselectable"},Te=$({__name:"Top",props:["poweredOn","settings","time"],setup(e){return(r,i)=>e.poweredOn?(c(),v("div",pe,[o("div",null,[l(k,{class:"unselectable top-battery"},{default:d(()=>[h("mdi-battery")]),_:1}),o("h1",we,g(e.time),1)]),o("div",null,[l(k,{class:"unselectable top-volume-icon"},{default:d(()=>[h("mdi-volume-high")]),_:1}),o("h1",xe,g(e.settings.volume)+"%",1)])])):L("",!0)}});const O=(e,r)=>{const i=e.__vccOpts||e;for(const[s,a]of r)i[s]=a;return i},ke=O(Te,[["__scopeId","data-v-b3a018ed"]]),Se=$({__name:"ExtraButtons",props:["settings","currentTab","poweredOn","currentFrequency","translations"],emits:["playSound","changeTab","close","saveSettings","togglePoweredOn","joinFrequency"],setup(e,{emit:r}){function i(){r("close")}function s(y){r("playSound",y)}function a(y){r("changeTab",y)}function n(y,x){r("saveSettings",y,x)}function p(){r("togglePoweredOn")}function w(y,x){r("joinFrequency",y.toString(),x)}return(y,x)=>(c(),v(V,null,[l(q,{text:e.translations.general.goback,location:"bottom"},{activator:d(({props:m})=>[F(o("a",R({class:"radio-home-button",onClick:x[0]||(x[0]=()=>{s("click"),e.currentTab!=="main"?a("main"):i()})},m),null,16),[[D,{class:"white--text"}]])]),_:1},8,["text"]),l(q,{text:e.translations.general.volumeUp,location:"start"},{activator:d(({props:m})=>[F(o("a",R({onClick:x[1]||(x[1]=()=>{e.settings.volume!==100&&(s("click"),e.settings.volume+=5,n("volume",e.settings.volume))}),class:"radio-volume-up-button"},m),null,16),[[D,{class:"white--text"}]])]),_:1},8,["text"]),l(q,{text:e.translations.general.volumeDown,location:"end"},{activator:d(({props:m})=>[F(o("a",R({onClick:x[2]||(x[2]=()=>{e.settings.volume!==0&&(s("click"),e.settings.volume-=5,n("volume",e.settings.volume))}),class:"radio-volume-down-button"},m),null,16),[[D,{class:"white--text"}]])]),_:1},8,["text"]),l(q,{text:e.poweredOn?e.translations.general.turnOff:e.translations.general.turnOn,location:"start"},{activator:d(({props:m})=>[F(o("a",R({class:"radio-power-button",onClick:x[3]||(x[3]=()=>{e.currentFrequency!==0&&w(0,!0),s("audio_off"),p()})},m),null,16),[[D,{class:"white--text"}]])]),_:1},8,["text"])],64))}});const qe=O(Se,[["__scopeId","data-v-192c1d23"]]),_e={class:"info-div status"},$e={class:"status-label"},Fe={class:"status-description street-label"},Re={class:"icons"},Ve={class:"info-div radio"},Le={class:"top"},Me={class:"top-icons unselectable"},Oe={class:"status-label radio-status"},De={class:"status-description radio-label"},je={class:"icons icons2"},Ce={class:"info-div settings"},Pe=$({__name:"Info",props:["currentFrequency","customRadioName","currentTab","street","translations"],emits:["changeTab"],setup(e,{emit:r}){const i=e;function s(a){r("changeTab",a)}return(a,n)=>(c(),v("div",{class:"item-container",style:M({opacity:e.currentTab=="main"?"1":"0","z-index":e.currentTab=="main"?2:1})},[o("div",_e,[o("div",R({class:"text"},i),[l(q,{activator:"parent",location:"top"},{default:d(()=>[h(g(e.translations.info.statusTitle),1)]),_:1}),o("h1",$e,g(e.translations.info.status),1),o("h2",Fe,g(e.street),1)],16),o("div",Re,[l(k,{class:"unselectable status-icon"},{default:d(()=>[h("mdi-calendar-range")]),_:1})])]),o("div",Ve,[o("div",Le,[o("div",Me,[l(k,{class:"top-status-icon unselectable"},{default:d(()=>[h("mdi-network-strength-3 ")]),_:1}),l(k,{class:"top-status-icon unselectable"},{default:d(()=>[h("mdi-bluetooth-audio ")]),_:1}),l(k,{class:"top-status-icon unselectable"},{default:d(()=>[h("mdi-remote")]),_:1}),l(k,{class:"top-status-icon unselectable"},{default:d(()=>[h("mdi-server")]),_:1})]),o("div",R({class:"text"},i),[l(q,{activator:"parent",location:"top"},{default:d(()=>[h(g(e.translations.info.radioStatus),1)]),_:1}),o("h1",Oe,g(e.currentFrequency==0?e.translations.info.notInRadio:e.translations.info.inRadio),1),o("h2",De,g(e.currentFrequency!==0?e.customRadioName!==""?e.customRadioName:N(ee)(e.translations.info.frequency,[e.currentFrequency]):""),1)],16)]),o("div",je,[l(q,{text:e.translations.info.openRadioMembers,location:"left"},{activator:d(({props:p})=>[l(k,R({onClick:n[0]||(n[0]=w=>s("radio-members")),class:"unselectable status-icon radio-members"},p),{default:d(()=>[h("mdi-account-multiple-outline ")]),_:2},1040)]),_:1},8,["text"])])]),o("div",Ce,[F((c(),v("div",{class:"settings-div settings-button",onClick:n[1]||(n[1]=p=>s("settings"))},[l(q,{activator:"parent",location:"top"},{default:d(()=>[h(g(e.translations.info.openSettings),1)]),_:1}),l(k,{class:"settings-icon unselectable"},{default:d(()=>[h("mdi-dots-horizontal ")]),_:1})])),[[D]]),F((c(),v("div",{class:"settings-div join-radio-button",onClick:n[2]||(n[2]=p=>s("join-radio"))},[l(q,{activator:"parent",location:"top"},{default:d(()=>[h(g(e.translations.info.joinRadio),1)]),_:1}),l(k,{class:"settings-icon call-icon unselectable"},{default:d(()=>[h("mdi-phone ")]),_:1})])),[[D]])])],4))}});const Ne=O(Pe,[["__scopeId","data-v-84e29ecd"]]),Ie={class:"info-div settings2"},ze=o("h1",{class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}}," Settings ",-1),He=o("hr",{style:{"margin-bottom":"15px"}},null,-1),Ae={slot:"selection","slot-scope":"data"},We=$({__name:"Settings",props:["currentTab","settings","translations","disableAnonymous"],emits:["saveSetting"],setup(e,{emit:r}){function i(s,a){r("saveSetting",s,a)}return(s,a)=>(c(),v("div",{class:"item-container",style:M({opacity:e.currentTab=="settings"?1:0,"z-index":e.currentTab=="settings"?2:1})},[o("div",Ie,[ze,He,l(W,{label:e.translations.settings.darkMode,modelValue:e.settings.darkTheme,"onUpdate:modelValue":[a[0]||(a[0]=n=>e.settings.darkTheme=n),a[1]||(a[1]=n=>i("theme",e.settings.darkTheme))],color:"white","hide-details":""},null,8,["label","modelValue"]),e.disableAnonymous!==!0?(c(),Y(W,{key:0,label:e.translations.settings.anonymous,modelValue:e.settings.anonymous,"onUpdate:modelValue":[a[2]||(a[2]=n=>e.settings.anonymous=n),a[3]||(a[3]=n=>i("anonymous",e.settings.anonymous))],color:"white","hide-details":""},null,8,["label","modelValue"])):L("",!0),l(W,{label:e.translations.settings.allowDrag,modelValue:e.settings.allowDrag,"onUpdate:modelValue":a[4]||(a[4]=n=>e.settings.allowDrag=n),color:"white","hide-details":""},null,8,["label","modelValue"]),l(ce,{items:N(he),label:e.translations.settings.size,solo:"","hide-details":"","item-title":"text","item-value":"value",modelValue:e.settings.scale,"onUpdate:modelValue":[a[5]||(a[5]=n=>e.settings.scale=n),a[6]||(a[6]=n=>i("size",e.settings.scale))]},{default:d(()=>[o("template",Ae,[h(g(e.translations.settings.size)+": "+g((e.settings.scale*100).toString())+"% ",1)])]),_:1},8,["items","label","modelValue"])])],4))}});const Ee=e=>(K("data-v-a8d2103f"),e=e(),X(),e),Be={class:"info-div"},Ue={class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}},Je=Ee(()=>o("hr",null,null,-1)),Ye={class:"radio-members-container"},Ge={key:0,class:"radio-member"},Ke={class:"radio-member-header"},Xe=$({__name:"RadioMembers",props:["currentTab","currentFrequency","radioMembers","translations"],setup(e){return(r,i)=>(c(),v("div",{class:"item-container",style:M({opacity:e.currentTab=="radio-members"?1:0,"z-index":e.currentTab=="radio-members"?2:1})},[o("div",Be,[o("h1",Ue,g(e.translations.radioMembers.title),1),Je,o("div",Ye,[e.radioMembers.length==0||e.currentFrequency==0?(c(),v("div",Ge,[o("h1",Ke,g(e.currentFrequency==0?e.translations.radioMembers.notInChannel:e.translations.radioMembers.emptyMembersList),1)])):(c(!0),v(V,{key:1},G(e.radioMembers,(s,a)=>(c(),v("div",{class:"radio-member",key:a},[s!==null?(c(),v("h1",{key:0,class:"radio-member-header",style:M({color:s.talking==!0?"#fff":"rgb(225,225,225)"})},g(s.name),5)):L("",!0)]))),128))])])],4))}});const Ze=O(Xe,[["__scopeId","data-v-a8d2103f"]]),Qe={class:"info-div"},et={class:"status-label"},tt=$({__name:"JoinRadio",props:["currentTab","currentFrequency","translations"],emits:["joinFrequency"],setup(e,{emit:r}){const i=b("");function s(){r("joinFrequency",i.value,!1)}return(a,n)=>(c(),v("div",{class:"item-container",style:M({opacity:e.currentTab=="join-radio"?"1":"0","z-index":e.currentTab=="join-radio"?2:1})},[o("div",Qe,[o("h1",et,g(e.translations.joinRadio.title),1),l(me,{class:"frequency-input",label:e.translations.joinRadio.frequency,modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=p=>i.value=p),solo:"",variant:"underlined","hide-details":"",type:"number"},null,8,["label","modelValue"]),l(fe,{small:"",color:"var(--button-background)",class:"frequency-button",onClick:s},{default:d(()=>[h(g(i.value.trim().length==0&&e.currentFrequency!==0?e.translations.joinRadio.leave:e.translations.joinRadio.join),1)]),_:1})])],4))}});const at=O(tt,[["__scopeId","data-v-ad69d2e1"]]),nt=e=>(K("data-v-a10b260b"),e=e(),X(),e),ot=nt(()=>o("div",{class:"header"},"Radio Members",-1)),st={class:"radio-member-list"},it=$({__name:"PlayerList",props:["radioMembers","position","allowDrag","show","scale"],emits:["updatePosition"],setup(e,{emit:r}){const i=e;function s(n){i.allowDrag&&(n.left<0&&(n.left=0),n.left>window.innerWidth-n.target.offsetWidth&&(n.left=window.innerWidth-n.target.offsetWidth),n.top<0&&(n.top=0),n.top>window.innerHeight-n.target.offsetHeight&&(n.top=window.innerHeight-n.target.offsetHeight),r("updatePosition",{left:n.right,top:n.top}))}function a(){i.allowDrag&&S("savesettings",{name:"position2",value:i.position})}return(n,p)=>(c(),v(V,null,[o("div",{class:"radio-members member-drag",style:M({cursor:e.allowDrag?"move":"default",right:e.position&&e.position.left!=="5vh"?e.position.left+"px":"5vh",top:e.position&&e.position.top!=="2vh"?e.position.top+"px":"2vh",transform:e.show?"scale("+Number(e.scale)+")":" translateY(calc(100% + "+e.position.top+"px)) scale("+Number(e.scale)+")"})},[e.show?(c(),v(V,{key:0},[ot,o("div",st,[(c(!0),v(V,null,G(e.radioMembers,(w,y)=>(c(),v(V,{key:y},[w!==null?(c(),v("div",{key:0,class:Z(["radio-member",{talking:w.talking}])},[o("span",null,g(w.name),1)],2)):L("",!0)],64))),128))])],64)):L("",!0)],4),l(N(Q),{target:[".member-drag"],draggable:!0,useResizeObserver:!1,onDrag:s,onDragEnd:a},null,8,["target"])],64))}});const lt=O(it,[["__scopeId","data-v-a10b260b"]]),rt={key:0,class:"items-container"},ut=$({__name:"App",setup(e){const r=b(!0),i=b(!1),s=b(!0),a=b("main"),n=b(""),p=b("12:00"),w=b(0),y=b([]),x=b(""),m=b({}),E=b(""),I=b(!1),C=b(!1),j=b({left:"5vh",top:"2vh"}),u=b({darkTheme:!0,anonymous:!1,allowDrag:!1,scale:1,position:{left:0,top:0},volume:100}),T=b(null);H(r,(t,f)=>{S("addLog",{type:"showPlayerList",newValue:t,oldValue:f})}),H(y,(t,f)=>{S("addLog",{type:"radioMembers",newValue:t,oldValue:f})}),H([()=>j.value.left,()=>j.value.top],([t,f],[_,le])=>{S("addLog",{type:"playerListPositions",newLeft:t,newTop:f,oldLeft:_,oldTop:le})});function ae(t){j.value=t}function ne(t){u.value.allowDrag&&T.value!==null&&(t.left<0&&(t.left=0),t.left>window.innerWidth-T.value.offsetWidth&&(t.left=window.innerWidth-T.value.offsetWidth),t.top<0&&(t.top=0),t.top>window.innerHeight-T.value.offsetHeight&&(t.top=window.innerHeight-T.value.offsetHeight),u.value.position={left:t.left,top:t.top},t.target.style.left=`${t.left}px`,t.target.style.top=`${t.top}px`)}function oe(t){u.value.allowDrag&&T.value!==null&&S("savesettings",{name:"position",value:{left:t.target.style.left,top:t.target.style.top}})}function P(t){a.value=t}function B(){i.value=!1,S("close",{}),document.body.classList.remove("open")}function se(t){i.value=!0,a.value="main",C.value=t,document.body.classList.add("open")}function U(t,f){t=="theme"?(u.value.darkTheme=f,document.body.classList.add(u.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(u.value.darkTheme?"lightmode":"darkmode")):t=="volume"?u.value.volume=f:t=="anonymous"?C.value!==!0&&(u.value.anonymous=f):t=="size"&&(u.value.scale=f),S("savesettings",{name:t,value:f})}function z(t){const f=document.getElementById(t);f&&(f.load(),f.volume=u.value.volume/100*.5,f.play())}async function J(t,f){if(t!==void 0&&t!=="0"&&t!==""){z("click");const _=await S("joinRadio",{frequency:Number(t)});f!==!0&&(_.result==!0?(P("main"),A.fire({title:m.value.notifications.joinedRadioTitle,text:ee(m.value.notifications.joinedRadioText,[_.frequencyLabel!==""&&_.frequencyLabel!==void 0?`the ${_.frequencyLabel}`:`${_.frequency} MHz`]),icon:"success",target:".main-container"}),w.value=_.frequency):A.fire({title:m.value.notifications.lockedChannelTitle,text:m.value.notifications.lockedChannelText,icon:"error",target:".main-container"}))}else w.value!==0&&(z("click"),S("leaveRadio",{}),w.value=0,f!==!0&&(A.fire({title:m.value.notifications.leftRadioTitle,text:m.value.notifications.leftRadioText,icon:"success",target:".main-container"}),P("main")))}function ie(){s.value=!s.value}return re(()=>{document.body.classList.add(u.value.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",function(t){switch(t.keyCode){case 27:a.value=="main"?B():a.value="main";break}}),window.addEventListener("message",function(t){switch(t.data.action){case"open":se(t.data.data.DisableAnonymous),r.value=t.data.data.ShowPlayerList;break;case"updateData":n.value=t.data.data.streetLabel,m.value=t.data.data.translations,I.value=!0,x.value=t.data.data.voiceScript,p.value=t.data.data.currentTime,w.value=t.data.data.radioFrequency,E.value=t.data.data.radioLabel;break;case"updateRadioMembers":y.value=t.data.data;break;case"updateSettings":C.value!==!0&&(u.value.anonymous=t.data.data.anonymous),u.value.scale=t.data.data.size,t.data.data.theme==!0||t.data.data.theme=="dark"?u.value.darkTheme=!0:u.value.darkTheme=!1,document.body.classList.add(u.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(u.value.darkTheme?"lightmode":"darkmode"),t.data.data.volume&&(u.value.volume=t.data.data.volume),t.data.data.position2!==null&&(j.value=t.data.data.position2),T.value!==null&&(t.data.data.position.left<0&&(t.data.data.position.left=0),t.data.data.position.left>window.innerWidth-T.value.offsetWidth&&(t.data.data.position.left=window.innerWidth-T.value.offsetWidth),t.data.data.position.top<0&&(t.data.data.position.top=0),t.data.data.position.top>window.innerHeight-T.value.offsetHeight&&(t.data.data.position.top=window.innerHeight-T.value.offsetHeight),t.data.data.position.left!==0&&(T.value.style.left=t.data.data.position.left,u.value.position.left=t.data.data.position.left),t.data.data.position.top!==0&&(T.value.style.top=t.data.data.position.top,u.value.position.top=Number(t.data.data.position.top.substring(0,t.data.data.position.top.length-2))));break}})}),(t,f)=>(c(),Y(ve,{class:Z({open:i.value})},{default:d(()=>[F(o("div",{class:"main-container",ref_key:"mainCont",ref:T,style:M({transform:i.value?"scale("+Number(u.value.scale)+")":" translateY(calc(100% + "+u.value.position.top+"px)) scale("+Number(u.value.scale)+")",opacity:i.value?"1":"0",cursor:u.value.allowDrag?"move":"default",background:s.value?"var(--background)":"#101121"})},[I.value?(c(),v(V,{key:0},[l(ke,{poweredOn:s.value,settings:u.value,time:p.value},null,8,["poweredOn","settings","time"]),s.value?(c(),v("div",rt,[l(Ne,{onChangeTab:P,currentTab:a.value,street:n.value,translations:m.value,currentFrequency:w.value,customRadioName:E.value},null,8,["currentTab","street","translations","currentFrequency","customRadioName"]),l(at,{onJoinFrequency:J,currentTab:a.value,translations:m.value,currentFrequency:w.value},null,8,["currentTab","translations","currentFrequency"]),l(We,{currentTab:a.value,settings:u.value,translations:m.value,disableAnonymous:C.value,onSaveSetting:U},null,8,["currentTab","settings","translations","disableAnonymous"]),l(Ze,{radioMembers:y.value,currentFrequency:w.value,translations:m.value,currentTab:a.value},null,8,["radioMembers","currentFrequency","translations","currentTab"])])):L("",!0),l(qe,{onPlaySound:z,onChangeTab:P,onSaveSettings:U,onClose:B,onTogglePoweredOn:ie,onJoinFrequency:J,settings:u.value,currentTab:a.value,poweredOn:s.value,currentFrequency:w.value,translations:m.value},null,8,["settings","currentTab","poweredOn","currentFrequency","translations"])],64)):L("",!0)],4),[[ue,I.value]]),l(N(Q),{target:[".main-container"],draggable:!0,useResizeObserver:!1,onDrag:ne,onDragEnd:oe},null,8,["target"]),l(lt,{show:r.value&&y.value.length>0,radioMembers:y.value,allowDrag:u.value.allowDrag,position:j.value,scale:u.value.scale,onUpdatePosition:ae},null,8,["show","radioMembers","allowDrag","position","scale"])]),_:1},8,["class"]))}});const dt=O(ut,[["__scopeId","data-v-f9fd71e7"]]);const te=de(dt);te.use(ge({components:be,directives:ye,theme:{defaultTheme:"dark"}}));te.mount("#app");
